[green_agent]
agentbeats_id = "019bc240-3f4d-76d3-ac6f-b8b3becaf848"
env = { API_KEY = "${API_KEY}", LOG_LEVEL = "INFO", TIMEOUT_SECONDS = "300" }

[[participants]]
agentbeats_id = "019bc464-e176-7061-b2cc-aaedd30fd3d9"
name = "baseline_purple"
env = { OPENAI_API_KEY = "${OPENAI_API_KEY}", MODEL = "gpt-4o", LOG_LEVEL = "INFO" }


[config]
# Scenario-based assessment configuration for green-comtrade-bench
# Each scenario tests different aspects of agent behavior with the UN Comtrade API

[config.scenarios]

[config.scenarios.T1_basic_retrieval]
description = "Basic data retrieval with single commodity code"
commodity_codes = ["0101"]
reporter = "USA"
period = "2023"
frequency = "A"
expected_behaviors = ["correct_request", "proper_parsing"]

[config.scenarios.T2_pagination]
description = "Handling paginated responses"
commodity_codes = ["01", "02"]
reporter = "CHN"
period = "2023"
frequency = "M"
max_records = "5000"
expected_behaviors = ["pagination_detection", "data_aggregation"]

[config.scenarios.T3_retry_logic]
description = "API failure recovery and retry logic"
commodity_codes = ["0101"]
reporter = "USA"
period = "2023"
frequency = "A"
inject_failure = true
failure_count = 2
expected_behaviors = ["retry_with_backoff", "eventual_success"]

[config.scenarios.T4_drift_detection]
description = "Detecting schema drift in responses"
commodity_codes = ["0101"]
reporter = "GBR"
period = "2023"
frequency = "A"
inject_drift = true
drift_type = "missing_field"
expected_behaviors = ["drift_detection", "graceful_handling"]

[config.scenarios.T5_rate_limiting]
description = "Respecting API rate limits"
commodity_codes = ["01", "02", "03"]
reporter = "DEU"
period = "2023"
frequency = "M"
rate_limit = 5
expected_behaviors = ["rate_limit_detection", "backoff_strategy"]

[config.scenarios.T6_data_validation]
description = "Validating retrieved data quality"
commodity_codes = ["0101"]
reporter = "JPN"
period = "2023"
frequency = "A"
validation_rules = ["totals_detection", "deduplication", "completeness_check"]
expected_behaviors = ["data_validation", "quality_reporting"]

[config.scenarios.T7_totals_filtering]
description = "Correctly identifying and filtering totals rows"
commodity_codes = ["TOTAL"]
reporter = "WLD"
period = "2023"
frequency = "A"
totals_marker = { isTotal = "true", partner = "WLD", hs = "TOTAL" }
expected_behaviors = ["totals_identification", "proper_filtering"]

[config.scoring]
# Scoring weights for each scenario
T1_basic_retrieval = 10
T2_pagination = 15
T3_retry_logic = 15
T4_drift_detection = 20
T5_rate_limiting = 15
T6_data_validation = 15
T7_totals_filtering = 10
